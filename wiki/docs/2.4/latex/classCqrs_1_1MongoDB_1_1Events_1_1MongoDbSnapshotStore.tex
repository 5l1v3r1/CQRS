\hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore}{}\section{Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store Class Reference}
\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore}\index{Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store@{Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store}}


Stores the most recent \hyperlink{}{snapshots} for replay and I\+Aggregate\+Root$<$\+T\+Authentication\+Token$>$ rehydration on a Snapshot\+Aggregate\+Root$<$\+T\+Authentication\+Token,\+T\+Snapshot$>$ in \hyperlink{namespaceCqrs_1_1MongoDB}{Mongo\+DB}.  


Inheritance diagram for Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a44bcb1f797f9c20ae2214f3488addd27_a44bcb1f797f9c20ae2214f3488addd27}{Mongo\+Db\+Snapshot\+Store} (\hyperlink{interfaceCqrs_1_1Configuration_1_1IConfigurationManager}{I\+Configuration\+Manager} configuration\+Manager, \hyperlink{interfaceCqrs_1_1Events_1_1ISnapshotDeserialiser}{I\+Snapshot\+Deserialiser} event\+Deserialiser, I\+Logger logger, I\+Correlation\+Id\+Helper correlation\+Id\+Helper, \hyperlink{interfaceCqrs_1_1Events_1_1ISnapshotBuilder}{I\+Snapshot\+Builder} snapshot\+Builder, \hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbSnapshotStoreConnectionStringFactory}{I\+Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory} mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory)
\begin{DoxyCompactList}\small\item\em Instantiate a new instance of Mongo\+Db\+Event\+Store$<$\+T\+Authentication\+Token$>$ triggering any require index checks. \end{DoxyCompactList}\item 
override void \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_abd129099f8ed40c140ad2b39e730035a_abd129099f8ed40c140ad2b39e730035a}{Save} (\hyperlink{classCqrs_1_1Snapshots_1_1Snapshot}{Snapshot} snapshot)
\begin{DoxyCompactList}\small\item\em Saves the provided {\itshape snapshot}  into storage. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual I\+Mongo\+Collection$<$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data} $>$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a995fcf56b131f6ac7f389a27992cf2ce_a995fcf56b131f6ac7f389a27992cf2ce}{Get\+Collection} ()
\begin{DoxyCompactList}\small\item\em Get a I\+Mongo\+Collection$<$\+T\+Document$>$ \end{DoxyCompactList}\item 
virtual void \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acd33edfb8ad3d8923be5fd265d91b2a4_acd33edfb8ad3d8923be5fd265d91b2a4}{Verify\+Indexes} ()
\begin{DoxyCompactList}\small\item\em Verify all required Mongo\+Db\+Index$<$\+T\+Entity$>$ are defined and ready to go. \end{DoxyCompactList}\item 
virtual void \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ab22a32df32528c82412028884bbbe9ae_ab22a32df32528c82412028884bbbe9ae}{Verify\+Index} (\hyperlink{classCqrs_1_1MongoDB_1_1DataStores_1_1Indexes_1_1MongoDbIndex}{Mongo\+Db\+Index}$<$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data} $>$ mongo\+Index)
\begin{DoxyCompactList}\small\item\em Verify the provided {\itshape mongo\+Index}  is defined and ready to go. \end{DoxyCompactList}\item 
override \hyperlink{classCqrs_1_1Snapshots_1_1Snapshot}{Snapshot} \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acb01680aad8c2671206bc851da17a036_acb01680aad8c2671206bc851da17a036}{Get} (Type aggregate\+Root\+Type, string stream\+Name)
\begin{DoxyCompactList}\small\item\em Get the latest Snapshot from storage. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
I\+Mongo\+Collection$<$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data} $>$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ac7606deddbb126b8ff75bd0c774719f5_ac7606deddbb126b8ff75bd0c774719f5}{Mongo\+Collection}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Gets or sets the I\+Mongo\+Collection$<$\+T\+Data$>$ \end{DoxyCompactList}\item 
\hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbSnapshotStoreConnectionStringFactory}{I\+Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory} \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a8e5a5b89b00194a1307a31f4dce718e7_a8e5a5b89b00194a1307a31f4dce718e7}{Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Gets or sets the \hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbEventStoreConnectionStringFactory}{I\+Mongo\+Db\+Event\+Store\+Connection\+String\+Factory} \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Stores the most recent \hyperlink{}{snapshots} for replay and I\+Aggregate\+Root$<$\+T\+Authentication\+Token$>$ rehydration on a Snapshot\+Aggregate\+Root$<$\+T\+Authentication\+Token,\+T\+Snapshot$>$ in \hyperlink{namespaceCqrs_1_1MongoDB}{Mongo\+DB}. 



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a44bcb1f797f9c20ae2214f3488addd27_a44bcb1f797f9c20ae2214f3488addd27}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a44bcb1f797f9c20ae2214f3488addd27_a44bcb1f797f9c20ae2214f3488addd27}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Mongo\+Db\+Snapshot\+Store@{Mongo\+Db\+Snapshot\+Store}}
\index{Mongo\+Db\+Snapshot\+Store@{Mongo\+Db\+Snapshot\+Store}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Mongo\+Db\+Snapshot\+Store()}{MongoDbSnapshotStore()}}
{\footnotesize\ttfamily Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Mongo\+Db\+Snapshot\+Store (\begin{DoxyParamCaption}\item[{\hyperlink{interfaceCqrs_1_1Configuration_1_1IConfigurationManager}{I\+Configuration\+Manager}}]{configuration\+Manager,  }\item[{\hyperlink{interfaceCqrs_1_1Events_1_1ISnapshotDeserialiser}{I\+Snapshot\+Deserialiser}}]{event\+Deserialiser,  }\item[{I\+Logger}]{logger,  }\item[{I\+Correlation\+Id\+Helper}]{correlation\+Id\+Helper,  }\item[{\hyperlink{interfaceCqrs_1_1Events_1_1ISnapshotBuilder}{I\+Snapshot\+Builder}}]{snapshot\+Builder,  }\item[{\hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbSnapshotStoreConnectionStringFactory}{I\+Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory}}]{mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory }\end{DoxyParamCaption})}



Instantiate a new instance of Mongo\+Db\+Event\+Store$<$\+T\+Authentication\+Token$>$ triggering any require index checks. 



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acb01680aad8c2671206bc851da17a036_acb01680aad8c2671206bc851da17a036}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acb01680aad8c2671206bc851da17a036_acb01680aad8c2671206bc851da17a036}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Get@{Get}}
\index{Get@{Get}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Get()}{Get()}}
{\footnotesize\ttfamily override \hyperlink{classCqrs_1_1Snapshots_1_1Snapshot}{Snapshot} Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Get (\begin{DoxyParamCaption}\item[{Type}]{aggregate\+Root\+Type,  }\item[{string}]{stream\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Get the latest Snapshot from storage. 

\begin{DoxyReturn}{Returns}
The most recent Snapshot of
\end{DoxyReturn}


Implements \hyperlink{classCqrs_1_1Snapshots_1_1SnapshotStore_ab2ecab1a665c0f2097929d028fe4ac69_ab2ecab1a665c0f2097929d028fe4ac69}{Cqrs.\+Snapshots.\+Snapshot\+Store}.

\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a995fcf56b131f6ac7f389a27992cf2ce_a995fcf56b131f6ac7f389a27992cf2ce}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a995fcf56b131f6ac7f389a27992cf2ce_a995fcf56b131f6ac7f389a27992cf2ce}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Get\+Collection@{Get\+Collection}}
\index{Get\+Collection@{Get\+Collection}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Get\+Collection()}{GetCollection()}}
{\footnotesize\ttfamily virtual I\+Mongo\+Collection$<$\hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data}$>$ Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Get\+Collection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Get a I\+Mongo\+Collection$<$\+T\+Document$>$ 

\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_abd129099f8ed40c140ad2b39e730035a_abd129099f8ed40c140ad2b39e730035a}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_abd129099f8ed40c140ad2b39e730035a_abd129099f8ed40c140ad2b39e730035a}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Save@{Save}}
\index{Save@{Save}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Save()}{Save()}}
{\footnotesize\ttfamily override void Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Save (\begin{DoxyParamCaption}\item[{\hyperlink{classCqrs_1_1Snapshots_1_1Snapshot}{Snapshot}}]{snapshot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Saves the provided {\itshape snapshot}  into storage. 


\begin{DoxyParams}{Parameters}
{\em snapshot} & the Snapshot to save and store.\\
\hline
\end{DoxyParams}


Implements \hyperlink{classCqrs_1_1Snapshots_1_1SnapshotStore_ae96ea2bb89a0bd7f45544acc37107525_ae96ea2bb89a0bd7f45544acc37107525}{Cqrs.\+Snapshots.\+Snapshot\+Store}.

\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ab22a32df32528c82412028884bbbe9ae_ab22a32df32528c82412028884bbbe9ae}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ab22a32df32528c82412028884bbbe9ae_ab22a32df32528c82412028884bbbe9ae}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Verify\+Index@{Verify\+Index}}
\index{Verify\+Index@{Verify\+Index}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Verify\+Index()}{VerifyIndex()}}
{\footnotesize\ttfamily virtual void Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Verify\+Index (\begin{DoxyParamCaption}\item[{\hyperlink{classCqrs_1_1MongoDB_1_1DataStores_1_1Indexes_1_1MongoDbIndex}{Mongo\+Db\+Index}$<$ \hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data} $>$}]{mongo\+Index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Verify the provided {\itshape mongo\+Index}  is defined and ready to go. 

\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acd33edfb8ad3d8923be5fd265d91b2a4_acd33edfb8ad3d8923be5fd265d91b2a4}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_acd33edfb8ad3d8923be5fd265d91b2a4_acd33edfb8ad3d8923be5fd265d91b2a4}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Verify\+Indexes@{Verify\+Indexes}}
\index{Verify\+Indexes@{Verify\+Indexes}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Verify\+Indexes()}{VerifyIndexes()}}
{\footnotesize\ttfamily virtual void Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Verify\+Indexes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Verify all required Mongo\+Db\+Index$<$\+T\+Entity$>$ are defined and ready to go. 



\subsection{Property Documentation}
\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ac7606deddbb126b8ff75bd0c774719f5_ac7606deddbb126b8ff75bd0c774719f5}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_ac7606deddbb126b8ff75bd0c774719f5_ac7606deddbb126b8ff75bd0c774719f5}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Mongo\+Collection@{Mongo\+Collection}}
\index{Mongo\+Collection@{Mongo\+Collection}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Mongo\+Collection}{MongoCollection}}
{\footnotesize\ttfamily I\+Mongo\+Collection$<$\hyperlink{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbEventData}{Mongo\+Db\+Event\+Data}$>$ Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Mongo\+Collection\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [protected]}}



Gets or sets the I\+Mongo\+Collection$<$\+T\+Data$>$ 

\mbox{\Hypertarget{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a8e5a5b89b00194a1307a31f4dce718e7_a8e5a5b89b00194a1307a31f4dce718e7}\label{classCqrs_1_1MongoDB_1_1Events_1_1MongoDbSnapshotStore_a8e5a5b89b00194a1307a31f4dce718e7_a8e5a5b89b00194a1307a31f4dce718e7}} 
\index{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}!Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory@{Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory}}
\index{Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory@{Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory}!Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store@{Cqrs\+::\+Mongo\+D\+B\+::\+Events\+::\+Mongo\+Db\+Snapshot\+Store}}
\subsubsection{\texorpdfstring{Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory}{MongoDbSnapshotStoreConnectionStringFactory}}
{\footnotesize\ttfamily \hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbSnapshotStoreConnectionStringFactory}{I\+Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory} Cqrs.\+Mongo\+D\+B.\+Events.\+Mongo\+Db\+Snapshot\+Store.\+Mongo\+Db\+Snapshot\+Store\+Connection\+String\+Factory\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [protected]}}



Gets or sets the \hyperlink{interfaceCqrs_1_1MongoDB_1_1Events_1_1IMongoDbEventStoreConnectionStringFactory}{I\+Mongo\+Db\+Event\+Store\+Connection\+String\+Factory} 

