<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class BusHelper
   | CQRS.NET API Reference Documentation version 2.2 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class BusHelper
   | CQRS.NET API Reference Documentation version 2.2 ">
    <meta name="generator" content="docfx 2.21.2.0">
    
    <link rel="shortcut icon" href="../../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Cqrs.Bus.BusHelper">
  
  
  <h1 id="Cqrs_Bus_BusHelper" data-uid="Cqrs.Bus.BusHelper" class="text-break">Class BusHelper
  </h1>
  <div class="markdown level0 summary"><p>A helper for command and event buses that also caches <a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a> look ups.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">BusHelper</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.ReferenceEquals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Cqrs.Bus.html">Cqrs.Bus</a></h6>
  <h6><strong>Assembly</strong>: Cqrs.dll</h6>
  <h5 id="Cqrs_Bus_BusHelper_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class BusHelper : IBusHelper</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <a id="Cqrs_Bus_BusHelper__ctor_" data-uid="Cqrs.Bus.BusHelper.#ctor*"></a>
  <h4 id="Cqrs_Bus_BusHelper__ctor_Cqrs_Configuration_IConfigurationManager_" data-uid="Cqrs.Bus.BusHelper.#ctor(Cqrs.Configuration.IConfigurationManager)">BusHelper(IConfigurationManager)</h4>
  <div class="markdown level1 summary"><p>Instantiates a new instance of <a class="xref" href="Cqrs.Bus.BusHelper.html">BusHelper</a></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public BusHelper(IConfigurationManager configurationManager)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a></td>
        <td><span class="parametername">configurationManager</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  <a id="Cqrs_Bus_BusHelper_CachedChecks_" data-uid="Cqrs.Bus.BusHelper.CachedChecks*"></a>
  <h4 id="Cqrs_Bus_BusHelper_CachedChecks" data-uid="Cqrs.Bus.BusHelper.CachedChecks">CachedChecks</h4>
  <div class="markdown level1 summary"><p>A collection of <span class="xref">System.Tuple`2</span> holding the configurations value (always a <span class="xref">System.Boolean</span>) and the <span class="xref">System.DateTime</span>
The value was last checked, keyed by it&apos;s configuration key.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected IDictionary&lt;string, Tuple&lt;bool, DateTime&gt;&gt; CachedChecks { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.IDictionary</span>&lt;<span class="xref">System.String</span>, <span class="xref">System.Tuple</span>&lt;<span class="xref">System.Boolean</span>, <span class="xref">System.DateTime</span>&gt;&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Cqrs_Bus_BusHelper_ConfigurationManager_" data-uid="Cqrs.Bus.BusHelper.ConfigurationManager*"></a>
  <h4 id="Cqrs_Bus_BusHelper_ConfigurationManager" data-uid="Cqrs.Bus.BusHelper.ConfigurationManager">ConfigurationManager</h4>
  <div class="markdown level1 summary"><p>Gets or sets the <a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected IConfigurationManager ConfigurationManager { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Cqrs_Bus_BusHelper_EventBlackListProcessing_" data-uid="Cqrs.Bus.BusHelper.EventBlackListProcessing*"></a>
  <h4 id="Cqrs_Bus_BusHelper_EventBlackListProcessing" data-uid="Cqrs.Bus.BusHelper.EventBlackListProcessing">EventBlackListProcessing</h4>
  <div class="markdown level1 summary"><p>The current value of &quot;Cqrs.MessageBus.BlackListProcessing&quot; from <a class="xref" href="Cqrs.Bus.BusHelper.html#Cqrs_Bus_BusHelper_ConfigurationManager">ConfigurationManager</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected bool EventBlackListProcessing { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <a id="Cqrs_Bus_BusHelper_BuildActionHandler_" data-uid="Cqrs.Bus.BusHelper.BuildActionHandler*"></a>
  <h4 id="Cqrs_Bus_BusHelper_BuildActionHandler__1_System_Action___0__System_Boolean_" data-uid="Cqrs.Bus.BusHelper.BuildActionHandler``1(System.Action{``0},System.Boolean)">BuildActionHandler&lt;TMessage&gt;(Action&lt;TMessage&gt;, Boolean)</h4>
  <div class="markdown level1 summary"><p>Build a message handler that implements telemetry capturing as well as off thread handling.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual Action&lt;TMessage&gt; BuildActionHandler&lt;TMessage&gt;(Action&lt;TMessage&gt; handler, bool holdMessageLock)where TMessage : IMessage</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Action</span>&lt;TMessage&gt;</td>
        <td><span class="parametername">handler</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">holdMessageLock</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Action</span>&lt;TMessage&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TMessage</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="implements">Implements</h5>
      <div><a class="xref" href="Cqrs.Bus.IBusHelper.html#Cqrs_Bus_IBusHelper_BuildActionHandler__1_System_Action___0__System_Boolean_">IBusHelper.BuildActionHandler&lt;TMessage&gt;(Action&lt;TMessage&gt;, Boolean)</a></div>
  <a id="Cqrs_Bus_BusHelper_BuildTelemeteredActionHandler_" data-uid="Cqrs.Bus.BusHelper.BuildTelemeteredActionHandler*"></a>
  <h4 id="Cqrs_Bus_BusHelper_BuildTelemeteredActionHandler__2_cdmdotnet_Logging_ITelemetryHelper_System_Action___0__System_Boolean_System_String_" data-uid="Cqrs.Bus.BusHelper.BuildTelemeteredActionHandler``2(cdmdotnet.Logging.ITelemetryHelper,System.Action{``0},System.Boolean,System.String)">BuildTelemeteredActionHandler&lt;TMessage, TAuthenticationToken&gt;(ITelemetryHelper, Action&lt;TMessage&gt;, Boolean, String)</h4>
  <div class="markdown level1 summary"><p>Build a message handler that implements telemetry capturing as well as off thread handling.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual Action&lt;TMessage&gt; BuildTelemeteredActionHandler&lt;TMessage, TAuthenticationToken&gt;(ITelemetryHelper telemetryHelper, Action&lt;TMessage&gt; handler, bool holdMessageLock, string source)where TMessage : IMessage</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">cdmdotnet.Logging.ITelemetryHelper</span></td>
        <td><span class="parametername">telemetryHelper</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Action</span>&lt;TMessage&gt;</td>
        <td><span class="parametername">handler</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">holdMessageLock</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">source</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Action</span>&lt;TMessage&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TMessage</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="parametername">TAuthenticationToken</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="implements">Implements</h5>
      <div><a class="xref" href="Cqrs.Bus.IBusHelper.html#Cqrs_Bus_IBusHelper_BuildTelemeteredActionHandler__2_cdmdotnet_Logging_ITelemetryHelper_System_Action___0__System_Boolean_System_String_">IBusHelper.BuildTelemeteredActionHandler&lt;TMessage, TAuthenticationToken&gt;(ITelemetryHelper, Action&lt;TMessage&gt;, Boolean, String)</a></div>
  <a id="Cqrs_Bus_BusHelper_IsEventRequired_" data-uid="Cqrs.Bus.BusHelper.IsEventRequired*"></a>
  <h4 id="Cqrs_Bus_BusHelper_IsEventRequired_System_String_" data-uid="Cqrs.Bus.BusHelper.IsEventRequired(System.String)">IsEventRequired(String)</h4>
  <div class="markdown level1 summary"><p>Checks if a white-list or black-list approach is taken, then checks the <a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a> to see if a key exists defining if the event is required or not.
If the event is required and it cannot be resolved, an error will be raised.
Otherwise the event will be marked as processed.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual bool IsEventRequired(string configurationKey)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">configurationKey</span></td>
        <td><p>The configuration key to check.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="implements">Implements</h5>
      <div><a class="xref" href="Cqrs.Bus.IBusHelper.html#Cqrs_Bus_IBusHelper_IsEventRequired_System_String_">IBusHelper.IsEventRequired(String)</a></div>
  <a id="Cqrs_Bus_BusHelper_IsEventRequired_" data-uid="Cqrs.Bus.BusHelper.IsEventRequired*"></a>
  <h4 id="Cqrs_Bus_BusHelper_IsEventRequired_System_Type_" data-uid="Cqrs.Bus.BusHelper.IsEventRequired(System.Type)">IsEventRequired(Type)</h4>
  <div class="markdown level1 summary"><p>Checks if a white-list or black-list approach is taken, then checks the <a class="xref" href="Cqrs.Configuration.IConfigurationManager.html">IConfigurationManager</a> to see if a key exists defining if the event is required or not.
If the event is required and it cannot be resolved, an error will be raised.
Otherwise the event will be marked as processed.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual bool IsEventRequired(Type messageType)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Type</span></td>
        <td><span class="parametername">messageType</span></td>
        <td><p>The <span class="xref">System.Type</span> of the message being processed.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="implements">Implements</h5>
      <div><a class="xref" href="Cqrs.Bus.IBusHelper.html#Cqrs_Bus_IBusHelper_IsEventRequired_System_Type_">IBusHelper.IsEventRequired(Type)</a></div>
  <a id="Cqrs_Bus_BusHelper_RefreshCachedChecks_" data-uid="Cqrs.Bus.BusHelper.RefreshCachedChecks*"></a>
  <h4 id="Cqrs_Bus_BusHelper_RefreshCachedChecks" data-uid="Cqrs.Bus.BusHelper.RefreshCachedChecks">RefreshCachedChecks()</h4>
  <div class="markdown level1 summary"><p>Refreshes <a class="xref" href="Cqrs.Bus.BusHelper.html#Cqrs_Bus_BusHelper_EventBlackListProcessing">EventBlackListProcessing</a> and every item currently in <a class="xref" href="Cqrs.Bus.BusHelper.html#Cqrs_Bus_BusHelper_CachedChecks">CachedChecks</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual void RefreshCachedChecks()</code></pre>
  </div>
  <a id="Cqrs_Bus_BusHelper_StartRefreshCachedChecks_" data-uid="Cqrs.Bus.BusHelper.StartRefreshCachedChecks*"></a>
  <h4 id="Cqrs_Bus_BusHelper_StartRefreshCachedChecks" data-uid="Cqrs.Bus.BusHelper.StartRefreshCachedChecks">StartRefreshCachedChecks()</h4>
  <div class="markdown level1 summary"><p>Starts <a class="xref" href="Cqrs.Bus.BusHelper.html#Cqrs_Bus_BusHelper_RefreshCachedChecks">RefreshCachedChecks()</a> in a <span class="xref">System.Threading.Tasks.Task</span> on a one second loop.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual void StartRefreshCachedChecks()</code></pre>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
