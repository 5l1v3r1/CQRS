<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface ICommand&lt;TAuthenticationToken&gt;
   | CQRS.NET API Reference Documentation version 2.2 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface ICommand&lt;TAuthenticationToken&gt;
   | CQRS.NET API Reference Documentation version 2.2 ">
    <meta name="generator" content="docfx 2.21.2.0">
    
    <link rel="shortcut icon" href="../../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../../index.html">
                <img id="logo" class="svg" src="../../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Cqrs.Commands.ICommand`1">
  
  
  <h1 id="Cqrs_Commands_ICommand_1" data-uid="Cqrs.Commands.ICommand`1" class="text-break">Interface ICommand&lt;TAuthenticationToken&gt;
  </h1>
  <div class="markdown level0 summary"><p>People request changes to the domain by sending <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a>s. They are named with a verb in the imperative mood plus and may include the <a class="xref" href="Cqrs.Domain.IAggregateRoot-1.html">IAggregateRoot&lt;TAuthenticationToken&gt;</a> type, for example ConfirmOrder. Unlike an <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a>, a <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> is not a statement of fact; it&apos;s only a request, and thus may be refused. (A typical way to convey refusal is to raise a specifically typed <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a> stating the <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> didn&apos;t happen for a specific reason).</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="Cqrs.Messages.IMessageWithAuthenticationToken-1.html#Cqrs_Messages_IMessageWithAuthenticationToken_1_AuthenticationToken">IMessageWithAuthenticationToken&lt;TAuthenticationToken&gt;.AuthenticationToken</a>
    </div>
    <div>
      <a class="xref" href="Cqrs.Messages.IMessage.html#Cqrs_Messages_IMessage_CorrelationId">IMessage.CorrelationId</a>
    </div>
    <div>
      <a class="xref" href="Cqrs.Messages.IMessage.html#Cqrs_Messages_IMessage_OriginatingFramework">IMessage.OriginatingFramework</a>
    </div>
    <div>
      <a class="xref" href="Cqrs.Messages.IMessage.html#Cqrs_Messages_IMessage_Frameworks">IMessage.Frameworks</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Cqrs.Commands.html">Cqrs.Commands</a></h6>
  <h6><strong>Assembly</strong>: Cqrs.dll</h6>
  <h5 id="Cqrs_Commands_ICommand_1_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface ICommand&lt;TAuthenticationToken&gt; : IMessageWithAuthenticationToken&lt;TAuthenticationToken&gt;, IMessage</code></pre>
  </div>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TAuthenticationToken</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Cqrs_Commands_ICommand_1_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>What does a <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> or an <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a> look like?</p>
<p>An <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> or <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a> is simply a data structure that contain data for reading, and no behavior. We call such structures &quot;Data Transfer Objects&quot; (DTOs). The name indicates the purpose. In many languages they are represented as classes, but they are not true classes in the real OO sense.</p>
<p>What is the difference between a <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> and an <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a>?</p>
<p>Their intent.</p>
<p>What is immutability? Why is a <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> or <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a> immutable?</p>
<p>For the purpose of this question, immutability is not having any setters, or other methods which change internal state. The <span class="xref">System.String</span> type in is a familiar example; you never actually change an existing <span class="xref">System.String</span> value, you just create new <span class="xref">System.String</span> values based on old ones.</p>
<p>An <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> is immutable because their expected usage is to be sent directly to the domain model side for processing. They do not need to change during their projected lifetime in traveling from client to server.
Sometimes however business logic dictates that a decision may be made to construct a <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> and local variables should be used.</p>
<p>An <a class="xref" href="Cqrs.Events.IEvent-1.html">IEvent&lt;TAuthenticationToken&gt;</a> is immutable because they represent domain actions that took place in the past. Unless you&apos;re Marty McFly, you can&apos;t change the past, and sometimes not even then.</p>
<p>What is command upgrading?</p>
<p>Upgrading an <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> becomes necessary when new requirements cause an existing <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> not to be sufficient. Maybe a new field needs to be added, for example, or maybe an existing field should really have been split into several different ones.</p>
<p>How do I upgrade my <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a>s?</p>
<p>How you do the upgrade depends how much control you have over your clients. If you can deploy your client updates and server updates together, just change things in both and deploy the updates. Job done. If not, it&apos;s usually best to have the updated <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a> be a new type and have the <a class="xref" href="Cqrs.Commands.ICommandHandler-2.html">ICommandHandler&lt;TAuthenticationToken, TCommand&gt;</a> accept both for a while.</p>
<p>Could you give an example of names of some versioned <a class="xref" href="Cqrs.Commands.ICommand-1.html">ICommand&lt;TAuthenticationToken&gt;</a>?</p>
<p>Sure.</p>
<p>UploadFile
UploadFile_v2
UploadFile_v3</p>
<p>It&apos;s just a convention, but a sane one.</p>
<hr>
<p>Also see <a href="http://cqrs.nu/Faq/commands-and-events">http://cqrs.nu/Faq/commands-and-events</a>.</p>
</div>
  <h5 id="Cqrs_Commands_ICommand_1_examples"><strong>Examples</strong></h5>
  <p>public class ConfirmOrder
{
public Guid OrderRsn;
}</p>

  <h3 id="properties">Properties
  </h3>
  <a id="Cqrs_Commands_ICommand_1_ExpectedVersion_" data-uid="Cqrs.Commands.ICommand`1.ExpectedVersion*"></a>
  <h4 id="Cqrs_Commands_ICommand_1_ExpectedVersion" data-uid="Cqrs.Commands.ICommand`1.ExpectedVersion">ExpectedVersion</h4>
  <div class="markdown level1 summary"><p>The expected version number the targeted <a class="xref" href="Cqrs.Domain.IAggregateRoot-1.html">IAggregateRoot&lt;TAuthenticationToken&gt;</a> or <a class="xref" href="Cqrs.Domain.ISaga-1.html">ISaga&lt;TAuthenticationToken&gt;</a> is expected to be.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int ExpectedVersion { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Cqrs_Commands_ICommand_1_Id_" data-uid="Cqrs.Commands.ICommand`1.Id*"></a>
  <h4 id="Cqrs_Commands_ICommand_1_Id" data-uid="Cqrs.Commands.ICommand`1.Id">Id</h4>
  <div class="markdown level1 summary"><p>The identifier of the command itself.
In some cases this may be the <a class="xref" href="Cqrs.Domain.IAggregateRoot-1.html">IAggregateRoot&lt;TAuthenticationToken&gt;</a> or <a class="xref" href="Cqrs.Domain.ISaga-1.html">ISaga&lt;TAuthenticationToken&gt;</a> this command targets.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Guid Id { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Guid</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
