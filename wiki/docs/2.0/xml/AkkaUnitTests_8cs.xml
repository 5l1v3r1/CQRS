<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="AkkaUnitTests_8cs" kind="file" language="C#">
    <compoundname>AkkaUnitTests.cs</compoundname>
    <innerclass refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1AkkaUnitTests" prot="public">Cqrs::Akka::Tests::Unit::AkkaUnitTests</innerclass>
    <innernamespace refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit">Cqrs::Akka::Tests::Unit</innernamespace>
    <innernamespace refid="namespaceSystem_1_1Threading">System::Threading</innernamespace>
    <innernamespace refid="namespacecdmdotnet_1_1Logging_1_1Configuration">cdmdotnet::Logging::Configuration</innernamespace>
    <innernamespace refid="namespacecdmdotnet_1_1StateManagement">cdmdotnet::StateManagement</innernamespace>
    <innernamespace refid="namespacecdmdotnet_1_1StateManagement_1_1Web">cdmdotnet::StateManagement::Web</innernamespace>
    <innernamespace refid="namespaceMicrosoft_1_1VisualStudio_1_1TestTools_1_1UnitTesting">Microsoft::VisualStudio::TestTools::UnitTesting</innernamespace>
    <innernamespace refid="namespaceNinject">Ninject</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceSystem" kindref="compound">System</ref>;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceSystem" kindref="compound">System</ref>.Collections.Generic;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceSystem" kindref="compound">System</ref>.Threading;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>cdmdotnet.Logging;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>cdmdotnet.Logging.Configuration;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>cdmdotnet.StateManagement;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>cdmdotnet.StateManagement.Web;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Commands" kindref="compound">Commands</ref>;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Domain" kindref="compound">Domain</ref>;</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Events" kindref="compound">Events</ref>;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests" kindref="compound">Tests</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit" kindref="compound">Unit</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands" kindref="compound">Commands</ref>;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests" kindref="compound">Tests</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit" kindref="compound">Unit</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands" kindref="compound">Commands</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers" kindref="compound">Handlers</ref>;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests" kindref="compound">Tests</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit" kindref="compound">Unit</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events" kindref="compound">Events</ref>;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Akka" kindref="compound">Akka</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests" kindref="compound">Tests</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit" kindref="compound">Unit</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events" kindref="compound">Events</ref>.<ref refid="namespaceCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers" kindref="compound">Handlers</ref>;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Authentication" kindref="compound">Authentication</ref>;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Bus" kindref="compound">Bus</ref>;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Commands" kindref="compound">Commands</ref>;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Configuration" kindref="compound">Configuration</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Domain" kindref="compound">Domain</ref>;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Domain" kindref="compound">Domain</ref>.<ref refid="namespaceCqrs_1_1Domain_1_1Factories" kindref="compound">Factories</ref>;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Events" kindref="compound">Events</ref>;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Ninject" kindref="compound">Ninject</ref>.<ref refid="namespaceCqrs_1_1Ninject_1_1Akka" kindref="compound">Akka</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Ninject" kindref="compound">Ninject</ref>.<ref refid="namespaceCqrs_1_1Ninject_1_1Configuration" kindref="compound">Configuration</ref>;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceMicrosoft" kindref="compound">Microsoft</ref>.VisualStudio.TestTools.UnitTesting;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespaceNinject" kindref="compound">Ninject</ref>;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespaceCqrs" kindref="compound">Cqrs</ref>.<ref refid="namespaceCqrs_1_1Messages_af06a7e6cd2609043d0f2f5f3419f81e3_1af06a7e6cd2609043d0f2f5f3419f81e3a1565c979ff6d5255fd3c81f57219fffc" kindref="member">Akka</ref>.Tests.Unit</highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>[<ref refid="namespaceTestClass" kindref="compound">TestClass</ref>]</highlight></codeline>
<codeline lineno="30" refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1AkkaUnitTests" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1AkkaUnitTests" kindref="compound">AkkaUnitTests</ref></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">internal</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>IDictionary&lt;Guid,<sp/>bool&gt;<sp/>Step1Reached<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Dictionary&lt;Guid,<sp/>bool&gt;();</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">internal</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>IDictionary&lt;Guid,<sp/>bool&gt;<sp/>Step2Reached<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Dictionary&lt;Guid,<sp/>bool&gt;();</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">internal</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>IDictionary&lt;Guid,<sp/>bool&gt;<sp/>Step3Reached<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Dictionary&lt;Guid,<sp/>bool&gt;();</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">internal</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>IDictionary&lt;Guid,<sp/>bool&gt;<sp/>Step4Reached<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Dictionary&lt;Guid,<sp/>bool&gt;();</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[<ref refid="namespaceTestMethod" kindref="compound">TestMethod</ref>]</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SendingCommandsAndEvents_AcrossBusesInMultipleWays_AllWork()</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Arrange</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>command<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1SayHelloWorldCommand" kindref="compound">SayHelloWorldCommand</ref>();</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Guid<sp/>correlationId<sp/>=<sp/>Guid.NewGuid();</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ICorrelationIdHelper<sp/>correlationIdHelper<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>WebCorrelationIdHelper(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>WebContextItemCollectionFactory());</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>correlationIdHelper.SetCorrelationId(correlationId);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ILogger<sp/>logger<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>ConsoleLogger(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>LoggerSettings(),<sp/>correlationIdHelper);</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interfaceCqrs_1_1Configuration_1_1IConfigurationManager" kindref="compound">IConfigurationManager</ref><sp/>configurationManager<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Configuration_1_1ConfigurationManager" kindref="compound">ConfigurationManager</ref>();</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="interfaceCqrs_1_1Bus_1_1IBusHelper" kindref="compound">IBusHelper</ref><sp/>busHelper<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Bus_1_1BusHelper" kindref="compound">BusHelper</ref>(configurationManager);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>kernel<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>StandardKernel();</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;ILogger&gt;().ToConstant(logger);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Domain_1_1Factories_1_1IAggregateFactory" kindref="compound">IAggregateFactory</ref>&gt;().To&lt;AggregateFactory&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Domain_1_1IUnitOfWork" kindref="compound">IUnitOfWork&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Domain_1_1UnitOfWork" kindref="compound">UnitOfWork&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Domain_1_1IRepository" kindref="compound">IRepository&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Domain_1_1AkkaRepository" kindref="compound">AkkaRepository&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Domain_1_1IAkkaRepository" kindref="compound">IAkkaRepository&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Domain_1_1AkkaRepository" kindref="compound">AkkaRepository&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Events_1_1IEventStore" kindref="compound">IEventStore&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Events_1_1MemoryCacheEventStore" kindref="compound">MemoryCacheEventStore&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Events_1_1IEventBuilder" kindref="compound">IEventBuilder&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Events_1_1DefaultEventBuilder" kindref="compound">DefaultEventBuilder&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Events_1_1IEventDeserialiser" kindref="compound">IEventDeserialiser&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Events_1_1EventDeserialiser" kindref="compound">EventDeserialiser&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Events_1_1IEventPublisher" kindref="compound">IEventPublisher&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Events_1_1IEventReceiver" kindref="compound">IEventReceiver&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;ICorrelationIdHelper&gt;().ToConstant(correlationIdHelper).InSingletonScope();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Events_1_1IAkkaEventPublisher" kindref="compound">IAkkaEventPublisher&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Events_1_1AkkaEventBus" kindref="compound">AkkaEventBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Events_1_1IAkkaEventPublisherProxy" kindref="compound">IAkkaEventPublisherProxy&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Events_1_1AkkaEventBusProxy" kindref="compound">AkkaEventBusProxy&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Commands_1_1IAkkaCommandSender" kindref="compound">IAkkaCommandSender&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Commands_1_1AkkaCommandBus" kindref="compound">AkkaCommandBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Bus_1_1ICommandHandlerRegistrar" kindref="compound">ICommandHandlerRegistrar</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Commands_1_1AkkaCommandBus" kindref="compound">AkkaCommandBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Bus_1_1IEventHandlerRegistrar" kindref="compound">IEventHandlerRegistrar</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Akka_1_1Events_1_1AkkaEventBus" kindref="compound">AkkaEventBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Commands_1_1ICommandSender" kindref="compound">ICommandSender&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Commands_1_1ICommandPublisher" kindref="compound">ICommandPublisher&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Commands_1_1ICommandReceiver" kindref="compound">ICommandReceiver&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Configuration_1_1IConfigurationManager" kindref="compound">IConfigurationManager</ref>&gt;().ToConstant(configurationManager).InSingletonScope();</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Bus_1_1IBusHelper" kindref="compound">IBusHelper</ref>&gt;().ToConstant(busHelper).InSingletonScope();</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;<ref refid="interfaceCqrs_1_1Authentication_1_1IAuthenticationTokenHelper" kindref="compound">IAuthenticationTokenHelper&lt;Guid&gt;</ref>&gt;().To&lt;<ref refid="classCqrs_1_1Authentication_1_1AuthenticationTokenHelper" kindref="compound">AuthenticationTokenHelper&lt;Guid&gt;</ref>&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kernel.Bind&lt;IContextItemCollectionFactory&gt;().To&lt;WebContextItemCollectionFactory&gt;().InSingletonScope();</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classCqrs_1_1Ninject_1_1Akka_1_1AkkaNinjectDependencyResolver" kindref="compound">AkkaNinjectDependencyResolver</ref>.<ref refid="classCqrs_1_1Ninject_1_1Akka_1_1AkkaNinjectDependencyResolver_afedf5f178be776a0f89d7d12c63326c7_1afedf5f178be776a0f89d7d12c63326c7" kindref="member">Start</ref>(kernel);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>dependencyResolver<sp/>=<sp/>(<ref refid="classCqrs_1_1Ninject_1_1Akka_1_1AkkaNinjectDependencyResolver" kindref="compound">AkkaNinjectDependencyResolver</ref>)<ref refid="classCqrs_1_1Ninject_1_1Configuration_1_1NinjectDependencyResolver" kindref="compound">NinjectDependencyResolver</ref>.<ref refid="classCqrs_1_1Ninject_1_1Configuration_1_1NinjectDependencyResolver_a2a8ebdf55ecac9eccccc237d422a3f31_1a2a8ebdf55ecac9eccccc237d422a3f31" kindref="member">Current</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>commandBus<sp/>=<sp/>dependencyResolver.<ref refid="interfaceCqrs_1_1Configuration_1_1IDependencyResolver_aa455096b7b94fc1d64904bc67830ec06_1aa455096b7b94fc1d64904bc67830ec06" kindref="member">Resolve</ref>&lt;<ref refid="interfaceCqrs_1_1Bus_1_1ICommandHandlerRegistrar" kindref="compound">ICommandHandlerRegistrar</ref>&gt;();</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>eventBus<sp/>=<sp/>dependencyResolver.Resolve&lt;<ref refid="interfaceCqrs_1_1Bus_1_1IEventHandlerRegistrar" kindref="compound">IEventHandlerRegistrar</ref>&gt;();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>inProcessBus<sp/>=<sp/>dependencyResolver.Resolve&lt;<ref refid="classCqrs_1_1Bus_1_1InProcessBus" kindref="compound">InProcessBus&lt;Guid&gt;</ref>&gt;();</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>commandBusProxy<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Commands_1_1AkkaCommandBusProxy" kindref="compound">AkkaCommandBusProxy&lt;Guid&gt;</ref>(dependencyResolver,<sp/>correlationIdHelper,<sp/>dependencyResolver.Resolve&lt;<ref refid="interfaceCqrs_1_1Authentication_1_1IAuthenticationTokenHelper" kindref="compound">IAuthenticationTokenHelper&lt;Guid&gt;</ref>&gt;());</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Commands<sp/>handled<sp/>by<sp/>Akka.net</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commandBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1SayHelloWorldCommand" kindref="compound">SayHelloWorldCommand</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1SayHelloWorldCommandHandler" kindref="compound">SayHelloWorldCommandHandler</ref>(dependencyResolver).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1SayHelloWorldCommandHandler_a204e1dacbacfb172a47d1585b76ef1f4_1a204e1dacbacfb172a47d1585b76ef1f4" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commandBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1ReplyToHelloWorldCommand" kindref="compound">ReplyToHelloWorldCommand</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1ReplyToHelloWorldCommandHandler" kindref="compound">ReplyToHelloWorldCommandHandler</ref>(dependencyResolver).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1ReplyToHelloWorldCommandHandler_a647273b7056fc79b8b34b78981f6f193_1a647273b7056fc79b8b34b78981f6f193" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commandBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1EndConversationCommand" kindref="compound">EndConversationCommand</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1EndConversationCommandHandler" kindref="compound">EndConversationCommandHandler</ref>(dependencyResolver).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Commands_1_1Handlers_1_1EndConversationCommandHandler_a45cc1e01d68fb5b241c9e46b333a149e_1a45cc1e01d68fb5b241c9e46b333a149e" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Events<sp/>in<sp/>process</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inProcessBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1HelloWorldSaid" kindref="compound">HelloWorldSaid</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldSaidEventHandler" kindref="compound">HelloWorldSaidEventHandler</ref>(dependencyResolver.Resolve&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Commands_1_1IAkkaCommandSender" kindref="compound">IAkkaCommandSender&lt;Guid&gt;</ref>&gt;()).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldSaidEventHandler_accb924e5856731b18120c21daed0f52a_1accb924e5856731b18120c21daed0f52a" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inProcessBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1ConversationEnded" kindref="compound">ConversationEnded</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1ConversationEndedEventHandler" kindref="compound">ConversationEndedEventHandler</ref>(dependencyResolver.Resolve&lt;<ref refid="interfaceCqrs_1_1Akka_1_1Commands_1_1IAkkaCommandSender" kindref="compound">IAkkaCommandSender&lt;Guid&gt;</ref>&gt;()).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1ConversationEndedEventHandler_a1e363c715cefdb600705d7b3f5e3bca6_1a1e363c715cefdb600705d7b3f5e3bca6" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>events<sp/>handled<sp/>by<sp/>Akka.net</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1HelloWorldRepliedTo" kindref="compound">HelloWorldRepliedTo</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldRepliedToEventHandler" kindref="compound">HelloWorldRepliedToEventHandler</ref>(dependencyResolver).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldRepliedToEventHandler_a12509fd1219657eca78496775641f481_1a12509fd1219657eca78496775641f481" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventBus.RegisterHandler&lt;<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1HelloWorldRepliedTo" kindref="compound">HelloWorldRepliedTo</ref>&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldRepliedToSendEndConversationCommandEventHandler" kindref="compound">HelloWorldRepliedToSendEndConversationCommandEventHandler</ref>(dependencyResolver).<ref refid="classCqrs_1_1Akka_1_1Tests_1_1Unit_1_1Events_1_1Handlers_1_1HelloWorldRepliedToSendEndConversationCommandEventHandler_af25c19f15c65e673f91eef4b1643c27f_1af25c19f15c65e673f91eef4b1643c27f" kindref="member">Handle</ref>);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Step1Reached.Add(correlationId,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Step2Reached.Add(correlationId,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Step3Reached.Add(correlationId,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Step4Reached.Add(correlationId,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Act</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commandBusProxy.Send(command);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Assert</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespaceSpinWait" kindref="compound">SpinWait</ref>.SpinUntil(()<sp/>=&gt;<sp/>Step1Reached[correlationId]<sp/>&amp;&amp;<sp/>Step2Reached[correlationId]<sp/>&amp;&amp;<sp/>Step3Reached[correlationId]<sp/>&amp;&amp;<sp/>Step4Reached[correlationId]);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classCqrs_1_1Ninject_1_1Akka_1_1AkkaNinjectDependencyResolver" kindref="compound">AkkaNinjectDependencyResolver</ref>.<ref refid="classCqrs_1_1Ninject_1_1Akka_1_1AkkaNinjectDependencyResolver_a605f605b38b49b8d0e00695983f85bf6_1a605f605b38b49b8d0e00695983f85bf6" kindref="member">Stop</ref>();</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/mnt/y/cdmdotnet/cqrs/Framework/Akka.Net/Cqrs.Akka.Tests.Unit/AkkaUnitTests.cs"/>
  </compounddef>
</doxygen>
